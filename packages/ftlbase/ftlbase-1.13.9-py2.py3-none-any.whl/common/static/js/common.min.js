function showWorkflow(e,t,a){var n,o,i=document.getElementById("id_main-"+t);"select-one"===i.type&&(n=i.options[i.selectedIndex].value,o=i.options[i.selectedIndex].text),ftl_modal(n,"7","/common/workflow/process_graph/"+n+"/",o,a)}function ftl_modal(e,t,a,n,o){void 0===o&&(o="modal-lg"),ftl_modal_mount=riot.mount("div#ftl-modal","ftl-modal",{modal:{isvisible:!1,contextmenu:!1,cls:o},data:{pk:e,acao:t,acaoURL:a,modaltitle:n}})}function changeUF2(e,t){if(!(e.selectedIndex<0)){var a=e.options[e.selectedIndex].value,n=e.getAttribute("data-app_label"),o=e.getAttribute("data-object_name"),i="id_";e.id.lastIndexOf("-")>=0&&(i=e.id.substring(0,e.id.lastIndexOf("-")+1));var l=i+"municipio";if(""!==a){var r=e.closest("div[class^='tab-pane active']"),d=$(r).find('select[id="'+l+'"]');d.attr("disabled",!0).html('<option value="">Aguarde...</option>'),d.load("/cliente/municipio/ajax/"+a+"/"+n+"/"+o+"/",null,(function(){d[0].disabled=!1,""!==t&&$("#"+l).val(t)}))}else jQuery(l).html('<option value="">--</option>')}}function changeUF(e){changeUF2(e,"")}function changeCEP(e){var t=$(e).val().replace(/\D/g,"");if(""!==t){if(/^[0-9]{8}$/.test(t)){var a="id_";e.id.lastIndexOf("-")>=0&&(a=e.id.substring(0,e.id.lastIndexOf("-")+1));var n=e.closest("div[class^='tab-pane active']"),o=$(n),i=o.find('input[id="'+a+'endereco"]'),l=o.find('input[id="'+a+'bairro"]'),r=o.find('select[id="'+a+'estado"]'),d=o.find('select[id="'+a+'municipio"]');i.val("..."),l.val("..."),r[0].value="",d[0].value="",$.getJSON("//viacep.com.br/ws/"+t+"/json/unicode/?callback=?",(function(e){"erro"in e?(limpa_formulario_cep(),alert("CEP não encontrado.")):(i.val(e.logradouro),l.val(e.bairro),r[0].value=e.uf,changeUF2(r[0],e.ibge),d[0].value=e.ibge)}))}else limpa_formulario_cep(),alert("Formato de CEP inválido.")}else limpa_formulario_cep()}function changeContaDestino(e,t){var a="#id_"+t,n=e.options[e.selectedIndex].value;if(""!==n){var o=e.getAttribute("data-app_label"),i=e.getAttribute("data-object_name"),l="/"+o+"/ajax"+i+"Select/"+$("#planodecontas").val()+"/"+n+"/"+o+"/"+i+"/",r=jQuery(a);r.attr("disabled",!0).html('<option value="">Aguarde...</option>'),r.load(l,null,(function(){r[0].disabled=!1,$(a).prepend('<option value="" selected>---------</option>')}))}else jQuery(a).html('<option value="">--</option>')}function changeContaOrigemProvisao(e,t,a){changeContaDestino(e,t),changeContaDestino(e,a)}function limpa_formulario_cep(){$("#id_endereco").val(""),$("#id_bairro").val("")}function setHeight(e){void 0!==e&&e.each((function(e,t){t.scrollHeight!=t.style.height.match(/\d+/)[0]&&(t.style.overflow="hidden",t.style.height=`${t.scrollHeight+2}px`)}))}function getCookie(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var o=jQuery.trim(a[n]);if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}$.ajaxSetup({beforeSend:function(e,t){this.crossDomain||(csrftoken=getCookie("csrftoken"),e.setRequestHeader("HTTP_X_CSRFTOKEN",csrftoken),e.setRequestHeader("X-CSRFToken",csrftoken))}}),function(e,t,a){"use strict";var n,o;e.fn.cleave=function(t){var a=e.extend({autoUnmask:!1},t||{});return this.each((function(){var t=new Cleave("#"+this.id,a),n=e(this);n.data("cleave-auto-unmask",a.autoUnmask),n.data("cleave",t)}))},e.valHooks.input?(n=e.valHooks.input.get,o=e.valHooks.input.set):e.valHooks.input={},e.valHooks.input.get=function(t){var a=e(t),o=a.data("cleave");return o?a.data("cleave-auto-unmask")?o.getRawValue():t.value:n?n(t):void 0},e.valHooks.input.set=function(t,a){var n=e(t),i=n.data("cleave");return i?(i.setRawValue(a),n):o?o(t):void 0}}(jQuery,window);var csrftoken=getCookie("csrftoken");function csrfSafeMethod(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function configuraCampos(e,t){var a=$(".disableMe"),n=$(".disableMe select[data-autocomplete-light-function='select2']");e?(a.removeProp("disabled"),a.prop("disabled","disabled"),a.has(".has-error").removeProp("disabled"),a.filter("SPAN").css("pointer-events","none"),n.removeProp("disabled"),n.prop("disabled","disabled"),n.has(".has-error").removeProp("disabled"),$("div[id*=__prefix__]").find(".disableMe").removeProp("disabled"),t&&$('input[name="save"]').hide()):a.removeProp("disabled"),t&&$('a[id^="add-item-button"]').hide(),$("form").each((function(){$(this).submit((function(){$(":disabled").removeProp("disabled")}))}))}function configuraPagina(){$(".js-django-inlines").each((function(){var e=$(this),t=e.data();t.options.onAdd=function(e,t){configuraPagina()},e.djangoInline(t.options||t),t.djangoInline.setFormOrder()})),$.fn.datepicker.defaults.format="dd/mm/yyyy",$.fn.datepicker.defaults.todayBtn="linked",$.fn.datepicker.defaults.language="pt-BR",$.fn.datepicker.defaults.autoclose=!0,$.fn.datepicker.defaults.todayHighlight=!0,$.fn.datepicker.defaults.enableOnReadonly=!0,$("#datepicker").datepicker({}),$(".dateinput").datepicker({format:"dd/mm/yyyy",todayBtn:"linked",language:"pt-BR",autoclose:!0,todayHighlight:!0,enableOnReadonly:!1}),$("div .has-error").filter(".form-group").has($('div[id^="detail-items-"]')).removeClass("has-error"),$("[data-ftl='data']").cleave({date:!0,datePattern:["d","m","Y"]}),$("[data-ftl='datahora']").cleave({delimiters:["/","/"," ",":"],blocks:[2,2,4,2,2]}),$("[data-ftl='telefone']").cleave({phone:!0,phoneRegionCode:"BR"}),$("[data-ftl='celular']").cleave({phone:!0,phoneRegionCode:"BR"}),$("[data-ftl='cpf']").cleave({blocks:[3,3,3,2],delimiters:[".",".","-"]}),$("[data-ftl='cnpj']").cleave({blocks:[2,3,3,4,2],delimiters:[".",".","/","-"]}),$("[data-ftl='cep']").cleave({blocks:[5,3],delimiters:["-"]}),$("[data-ftl='percentual']").cleave({numeral:!0,numeralThousandsGroupStyle:"thousand",numeralDecimalMark:",",delimiter:".",noImmediatePrefix:!0,autoUnmask:!0}),$("[data-ftl='percentual-100-2']").cleave({numeral:!0,numeralThousandsGroupStyle:"thousand",numeralDecimalScale:2,numeralDecimalMark:",",delimiter:".",numeralPositiveOnly:!0,noImmediatePrefix:!0,autoUnmask:!0}),$('form input:not([type="hidden"]):not([type="submit"])').keydown((function(e){if("Enter"===e.key){var t=$(this).parents("form").eq(0).find(":input");return null!==t[t.index(this)+1]&&t[t.index(this)+1].focus(),e.preventDefault(),!1}})),$(".tab-content .panel-body").each((function(){$(this).find(".buttons-do-form").appendTo($(this).parent().find("#master-button"))})),$(".dal-forward-conf").not("[id*='__prefix__']").each((function(){var e,t=this.id.replace("dal-forward-conf-for_","#"),a=$(t),n=a.getFormPrefix();try{e=JSON.parse($(this).text())}catch(e){return}e.forEach((function(e){$("[name="+n+e.src+"]").on("change",(function(){a.val(null).trigger("change")}))}))})),null!=callback_configuraPagina&&callback_configuraPagina(),$(".ftl-automount:visible").each((function(e,t){t._tag||(riot.mount(t),t.classList.remove("ftl-automount"))}))}callback_configuraPagina=null;var rotas=[];function configuraFTL(){moment.locale("pt-br"),configuraPagina();var e=window.location,t=$('li a[href="'+e.pathname+'"]');if(t.length>0)t.parent().addClass("active"),$("ul.treeview-menu").filter((function(t){return 1===$("a[href^='"+e.pathname+"']",this).length})).addClass("active").css("display","block");else if(document.referrer){var a=document.referrer.match(/:\/\/[^\/]+([^\?]*)[\/]*(?:\?.*)?$/)[1];$('li a[href^="'+a+'"]').length>0&&($('li a[href="'+a+'"]').parent().addClass("active"),$("ul.treeview-menu").filter((function(e){return 1===$("a[href^='"+a+"']",this).length})).addClass("active").css("display","block"))}ftltabs=riot.mount("ftl-tabs")[0],route("/..",(function(e){var t=window.location,a=t.hash.slice(1);rotas.forEach((function(e,n){if(e.rota===a.slice(0,e.rota.length)){var o="";t.hash.endsWith("/add/")?o="Inclusão":"2"===t.hash.split("/")[4]?o="Alteração":"3"===t.hash.split("/")[4]&&(o="Exclusão"),ftltabs.trigger("updateRoute",n,e.nome,a,o,e.reload)}}))})),route.start(!0)}function formset_up(e){var t=$(e).closest(".js-django-inlines").data().djangoInline,a=t.getFormIndex(e);t.moveFieldUp(a)}function formset_down(e){var t=$(e).closest(".js-django-inlines").data().djangoInline,a=t.getFormIndex(e);t.moveFieldDown(a)}function goBack(){window.history.back()}function closeActiveTab(){try{$('[ref="#'+$f.closest("div[class^='tab-pane active']").attr("id")+'-close"]').click()}catch(e){$('[ref="#'+$("div[class^='tab-pane active']").attr("id")+'-close"]').click()}}$(window).scroll((function(e){var t=$(".fixedElement:visible"),a="fixed"===t.css("position");$(this).scrollTop()>260&&!a&&t.css({position:"fixed",top:"0px"}),$(this).scrollTop()<=260&&a&&t.css({position:"static",top:"0px"}),t.css({width:t.parent().find(".note-editing-area").width()+"px"})}));var UUID=function(){for(var e=[],t=0;t<=15;t++)e[t]=t.toString(16);var a="";for(t=1;t<=36;t++)a+=9===t||14===t||19===t||24===t?"-":15===t?4:20===t?e[4*Math.random()|8]:e[16*Math.random()|0];return a},Store=function(){riot.observable(this)};