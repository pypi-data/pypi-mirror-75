.. _TurbineGov:

================================================================================
TurbineGov
================================================================================

    Turbine governor group for synchronous generator.
    

Common Parameters: u, name

Common Variables: pout

Available models:
TG2_,
TGOV1_

.. _TG2:

--------------------------------------------------------------------------------
TG2
--------------------------------------------------------------------------------

Group TurbineGov_

Parameters

+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  Name  |        Symbol         |               Description                | Default |  Unit  |   Type    | Properties |
+========+=======================+==========================================+=========+========+===========+============+
|  idx   |                       | unique device idx                        |         |        | DataParam |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  u     | :math:`u`             | connection status                        | 1       | *bool* | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  name  |                       | device name                              |         |        | DataParam |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  syn   |                       | Synchronous generator idx                |         |        | IdxParam  | mandatory  |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  R     | :math:`R`             | Speed regulation gain under machine base | 0.050   | *p.u.* | NumParam  | ipower     |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  wref0 | :math:`\omega_{ref0}` | Base speed reference                     | 1       | *p.u.* | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  pmax  | :math:`p_{max}`       | Maximum power output                     | 999     | *p.u.* | NumParam  | power      |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  pmin  | :math:`p_{min}`       | Minimum power output                     | 0       | *p.u.* | NumParam  | power      |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  dbl   | :math:`L_{db}`        | Deadband lower limit                     | -0.000  | *p.u.* | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  dbu   | :math:`U_{db}`        | Deadband upper limit                     | 0.000   | *p.u.* | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  dbc   | :math:`C_{db}`        | Deadband neutral value                   | 0       | *p.u.* | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  T1    | :math:`T_1`           | Transient gain time                      | 0.200   |        | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  T2    | :math:`T_2`           | Governor time constant                   | 10      |        | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  Sn    | :math:`S_n`           | Rated power from generator               |         | *MVA*  | ExtParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  Vn    | :math:`V_n`           | Rated voltage from generator             |         | *kV*   | ExtParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+

Variables

+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+
|  Name  |        Symbol        |     Initial Value     |                              Description                              |  Unit  | Properties |
+========+======================+=======================+=======================================================================+========+============+
|  ll_x  | :math:`x'_{ll}`      | :math:`\omega_{dmG}`  | State in lead-lag                                                     |        | v_str      |
+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+
|  omega | :math:`\omega`       |                       | Generator speed                                                       | *p.u.* |            |
+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+
|  pout  | :math:`P_{out}`      | :math:`\tau_{m0}`     | Turbine final output power                                            |        | v_str      |
+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+
|  wref  | :math:`\omega_{ref}` | :math:`\omega_{ref0}` | Speed reference variable                                              |        | v_str      |
+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+
|  w_d   | :math:`\omega_{dev}` | :math:`0`             | Generator speed deviation before dead band (positive for under speed) |        | v_str      |
+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+
|  w_dm  | :math:`\omega_{dm}`  | :math:`0`             | Measured speed deviation after dead band                              |        | v_str      |
+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+
|  w_dmg | :math:`\omega_{dmG}` | :math:`0`             | Speed deviation after dead band after gain                            |        | v_str      |
+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+
|  ll_y  | :math:`y_{ll}`       | :math:`\omega_{dmG}`  | Output of lead-lag                                                    |        | v_str      |
+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+
|  pnl   | :math:`P_{nl}`       | :math:`\tau_{m0}`     | Power output before hard limiter                                      |        | v_str      |
+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+
|  tm    | :math:`\tau_m`       |                       | Mechanical power to generator                                         |        |            |
+--------+----------------------+-----------------------+-----------------------------------------------------------------------+--------+------------+

Differential Equations

+--------+-----------------+----------+----------------------------------+-------------+
|  Name  |     Symbol      |   Type   | RHS of Equation "T x' = f(x, y)" |   T (LHS)   |
+========+=================+==========+==================================+=============+
|  ll_x  | :math:`x'_{ll}` | State    | :math:`\omega_{dmG} - x'_{ll}`   | :math:`T_2` |
+--------+-----------------+----------+----------------------------------+-------------+
|  omega | :math:`\omega`  | ExtState | :math:`0`                        |             |
+--------+-----------------+----------+----------------------------------+-------------+

Algebraic Equations

+--------+----------------------+----------+----------------------------------------------------------------------------------------------------------------------+
|  Name  |        Symbol        |   Type   |                                            RHS of Equation "0 = g(x, y)"                                             |
+========+======================+==========+======================================================================================================================+
|  pout  | :math:`P_{out}`      | Algeb    | :math:`P_{nl} z_{i}^{plim} - P_{out} + p_{max} z_{u}^{plim} + p_{min} z_{l}^{plim}`                                  |
+--------+----------------------+----------+----------------------------------------------------------------------------------------------------------------------+
|  wref  | :math:`\omega_{ref}` | Algeb    | :math:`\omega_{ref0} - \omega_{ref}`                                                                                 |
+--------+----------------------+----------+----------------------------------------------------------------------------------------------------------------------+
|  w_d   | :math:`\omega_{dev}` | Algeb    | :math:`- \omega_{dev} + u \left(- \omega + \omega_{ref}\right)`                                                      |
+--------+----------------------+----------+----------------------------------------------------------------------------------------------------------------------+
|  w_dm  | :math:`\omega_{dm}`  | Algeb    | :math:`L_{db} z_{lr}^{w_{db}} + U_{db} z_{ur}^{w_{db}} + \omega_{dev} \left(1 - z_{i}^{w_{db}}\right) - \omega_{dm}` |
+--------+----------------------+----------+----------------------------------------------------------------------------------------------------------------------+
|  w_dmg | :math:`\omega_{dmG}` | Algeb    | :math:`G \omega_{dm} - \omega_{dmG}`                                                                                 |
+--------+----------------------+----------+----------------------------------------------------------------------------------------------------------------------+
|  ll_y  | :math:`y_{ll}`       | Algeb    | :math:`T_{1} \left(\omega_{dmG} - x'_{ll}\right) + T_{2} x'_{ll} - T_{2} y_{ll}`                                     |
+--------+----------------------+----------+----------------------------------------------------------------------------------------------------------------------+
|  pnl   | :math:`P_{nl}`       | Algeb    | :math:`- P_{nl} + \tau_{m0} + y_{ll}`                                                                                |
+--------+----------------------+----------+----------------------------------------------------------------------------------------------------------------------+
|  tm    | :math:`\tau_m`       | ExtAlgeb | :math:`u \left(P_{out} - \tau_{m0}\right)`                                                                           |
+--------+----------------------+----------+----------------------------------------------------------------------------------------------------------------------+

Services

+-------+-----------+---------------------+--------------+
| Name  |  Symbol   |      Equation       |     Type     |
+=======+===========+=====================+==============+
|  gain | :math:`G` | :math:`\frac{u}{R}` | ConstService |
+-------+-----------+---------------------+--------------+

Discrete

+-------+--------------+-------------+
| Name  |    Symbol    |    Type     |
+=======+==============+=============+
|  w_db | :math:`w_db` | DeadBand    |
+-------+--------------+-------------+
|  plim | :math:`plim` | HardLimiter |
+-------+--------------+-------------+


Config Fields in [TG2]

+------------+-----------------------+-------+--------------------------+-----------------+
|   Option   |        Symbol         | Value |           Info           | Accepted values |
+============+=======================+=======+==========================+=================+
|  deadband  | :math:`z_{deadband}`  | 0     | enable input dead band   | (0, 1)          |
+------------+-----------------------+-------+--------------------------+-----------------+
|  hardlimit | :math:`z_{hardlimit}` | 1     | enable output hard limit | (0, 1)          |
+------------+-----------------------+-------+--------------------------+-----------------+


.. _TGOV1:

--------------------------------------------------------------------------------
TGOV1
--------------------------------------------------------------------------------

Group TurbineGov_


    TGOV1 model.
    
Parameters

+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  Name  |        Symbol         |               Description                | Default |  Unit  |   Type    | Properties |
+========+=======================+==========================================+=========+========+===========+============+
|  idx   |                       | unique device idx                        |         |        | DataParam |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  u     | :math:`u`             | connection status                        | 1       | *bool* | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  name  |                       | device name                              |         |        | DataParam |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  syn   |                       | Synchronous generator idx                |         |        | IdxParam  | mandatory  |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  R     | :math:`R`             | Speed regulation gain under machine base | 0.050   | *p.u.* | NumParam  | ipower     |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  wref0 | :math:`\omega_{ref0}` | Base speed reference                     | 1       | *p.u.* | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  VMAX  | :math:`V_{max}`       | Maximum valve position                   | 1.200   | *p.u.* | NumParam  | power      |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  VMIN  | :math:`V_{min}`       | Minimum valve position                   | 0       | *p.u.* | NumParam  | power      |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  T1    | :math:`T_1`           | Valve time constant                      | 0.100   |        | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  T2    | :math:`T_2`           | Lead-lag lead time constant              | 0.200   |        | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  T3    | :math:`T_3`           | Lead-lag lag time constant               | 10      |        | NumParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  Dt    | :math:`D_t`           | Turbine damping coefficient              | 0       |        | NumParam  | power      |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  Sn    | :math:`S_n`           | Rated power from generator               |         | *MVA*  | ExtParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+
|  Vn    | :math:`V_n`           | Rated voltage from generator             |         | *kV*   | ExtParam  |            |
+--------+-----------------------+------------------------------------------+---------+--------+-----------+------------+

Variables

+--------+----------------------+-----------------------+----------------------------------+--------+------------+
|  Name  |        Symbol        |     Initial Value     |           Description            |  Unit  | Properties |
+========+======================+=======================+==================================+========+============+
|  LAG_x | :math:`x'_{LAG}`     | :math:`P_{d}`         | State in lag transfer function   |        | v_str      |
+--------+----------------------+-----------------------+----------------------------------+--------+------------+
|  LL_x  | :math:`x'_{LL}`      | :math:`x'_{LAG}`      | State in lead-lag                |        | v_str      |
+--------+----------------------+-----------------------+----------------------------------+--------+------------+
|  omega | :math:`\omega`       |                       | Generator speed                  | *p.u.* |            |
+--------+----------------------+-----------------------+----------------------------------+--------+------------+
|  pout  | :math:`P_{out}`      | :math:`\tau_{m0}`     | Turbine final output power       |        | v_str      |
+--------+----------------------+-----------------------+----------------------------------+--------+------------+
|  wref  | :math:`\omega_{ref}` | :math:`\omega_{ref0}` | Speed reference variable         |        | v_str      |
+--------+----------------------+-----------------------+----------------------------------+--------+------------+
|  pref  | :math:`P_{ref}`      | :math:`R \tau_{m0}`   | Reference power input            |        | v_str      |
+--------+----------------------+-----------------------+----------------------------------+--------+------------+
|  wd    | :math:`\omega_{dev}` | :math:`0`             | Generator under speed            | *p.u.* | v_str      |
+--------+----------------------+-----------------------+----------------------------------+--------+------------+
|  pd    | :math:`P_{d}`        | :math:`\tau_{m0}`     | Pref plus under speed times gain | *p.u.* | v_str      |
+--------+----------------------+-----------------------+----------------------------------+--------+------------+
|  LL_y  | :math:`y_{LL}`       | :math:`x'_{LAG}`      | Output of lead-lag               |        | v_str      |
+--------+----------------------+-----------------------+----------------------------------+--------+------------+
|  tm    | :math:`\tau_m`       |                       | Mechanical power to generator    |        |            |
+--------+----------------------+-----------------------+----------------------------------+--------+------------+

Differential Equations

+--------+------------------+----------+----------------------------------------------------+-------------+
|  Name  |      Symbol      |   Type   |          RHS of Equation "T x' = f(x, y)"          |   T (LHS)   |
+========+==================+==========+====================================================+=============+
|  LAG_x | :math:`x'_{LAG}` | State    | :math:`LAG_{lim zi} \left(P_{d} - x'_{LAG}\right)` | :math:`T_1` |
+--------+------------------+----------+----------------------------------------------------+-------------+
|  LL_x  | :math:`x'_{LL}`  | State    | :math:`x'_{LAG} - x'_{LL}`                         | :math:`T_3` |
+--------+------------------+----------+----------------------------------------------------+-------------+
|  omega | :math:`\omega`   | ExtState | :math:`0`                                          |             |
+--------+------------------+----------+----------------------------------------------------+-------------+

Algebraic Equations

+-------+----------------------+----------+------------------------------------------------------------------------------+
| Name  |        Symbol        |   Type   |                        RHS of Equation "0 = g(x, y)"                         |
+=======+======================+==========+==============================================================================+
|  pout | :math:`P_{out}`      | Algeb    | :math:`D_{t} \omega_{dev} - P_{out} + y_{LL}`                                |
+-------+----------------------+----------+------------------------------------------------------------------------------+
|  wref | :math:`\omega_{ref}` | Algeb    | :math:`\omega_{ref0} - \omega_{ref}`                                         |
+-------+----------------------+----------+------------------------------------------------------------------------------+
|  pref | :math:`P_{ref}`      | Algeb    | :math:`- P_{ref} + R \tau_{m0}`                                              |
+-------+----------------------+----------+------------------------------------------------------------------------------+
|  wd   | :math:`\omega_{dev}` | Algeb    | :math:`- \omega - \omega_{dev} + \omega_{ref}`                               |
+-------+----------------------+----------+------------------------------------------------------------------------------+
|  pd   | :math:`P_{d}`        | Algeb    | :math:`G \left(P_{ref} + \omega_{dev}\right) - P_{d}`                        |
+-------+----------------------+----------+------------------------------------------------------------------------------+
|  LL_y | :math:`y_{LL}`       | Algeb    | :math:`T_{2} \left(x'_{LAG} - x'_{LL}\right) + T_{3} x'_{LL} - T_{3} y_{LL}` |
+-------+----------------------+----------+------------------------------------------------------------------------------+
|  tm   | :math:`\tau_m`       | ExtAlgeb | :math:`u \left(P_{out} - \tau_{m0}\right)`                                   |
+-------+----------------------+----------+------------------------------------------------------------------------------+

Services

+-------+-----------+---------------------+--------------+
| Name  |  Symbol   |      Equation       |     Type     |
+=======+===========+=====================+==============+
|  gain | :math:`G` | :math:`\frac{u}{R}` | ConstService |
+-------+-----------+---------------------+--------------+

Discrete

+----------+-------------------+------------+
|   Name   |      Symbol       |    Type    |
+==========+===================+============+
|  LAG_lim | :math:`lim_{LAG}` | AntiWindup |
+----------+-------------------+------------+


